---
title: Формулы и уравнения
description: Правила записи математических выражений, их нумерации и оформления пояснений.
iconLocal: Sigma
---

Формулы и уравнения в отчёте выделяются из текста в отдельную строку. Шаблон `modern-g7-32` 
автоматически обеспечивает правильное выравнивание выражений и их нумерацию в круглых скобках.

## Быстрый старт

Для вставки формулы используйте синтаксис Typst с символами `$`. Чтобы формула была пронумерована 
и выделена в отдельный блок, ставьте пробелы вокруг знаков доллара.

<TypstRender
  code={`
Формула @sum-eq позволяет вычислить сумму чисел.

$ sum_(k=0)^n k = (n(n+1)) / 2 $ <sum-eq>
`}
  image="equations-example-simple.png"
/>

## Автоматизация и логика шаблона

Шаблон настраивает математические блоки согласно пунктам раздела [6.8](#6.8.1):

1.  **Выравнивание**: Формулы располагаются по центру строки.
2.  **Нумерация**: Порядковый номер (арабские цифры) автоматически проставляется в крайнем правом 
    положении в круглых скобках согласно [6.8.3](#6.8.3).
3.  **Связи в тексте**: Ссылки на формулы через `@label` автоматически оформляются в круглых 
    скобках (например, «в формуле (1)»), как требует [6.8.4](#6.8.4).
4.  **Нумерация в приложениях**: Если формула находится в [приложении](./appendixes.mdx), она 
    автоматически получает буквенно-цифровой индекс, например: `(Б.1)`.

## Оформление пояснений («Где...»)

Согласно [6.8.2](#6.8.2), пояснения символов приводятся непосредственно под формулой. Каждое 
значение пишется с новой строки. Первая строка начинается со слова «где» без двоеточия.

<TypstRender
  code={`
$ E = m c^2 $ <energy>

где $E$ — энергия объекта; \
$m$ — его масса; \
$c$ — скорость света в вакууме.
`}
  image="equations-explanation.png"
/>

## Продвинутое использование

### Перенос длинных формул
Если уравнение не умещается в одну строку, его следует переносить после математических знаков 
(`=`, `+`, `-`, `*`, `/`). На новой строке знак повторяется согласно [6.8.1](#6.8.1).

### Нумерация в пределах раздела
Если вы пишете очень большой отчёт, вы можете включить нумерацию формул в пределах раздела 
(например, `(3.1)`). Это допускается пунктом [6.8.5](#6.8.5). Для этого в `main.typ` добавьте:

```typst
#set math.equation(numbering: "1.1")
```

### Кастомизация выравнивания
Если стандарты вашей организации требуют выравнивания формул по левому краю (с отступом 1.25 см), 
вы можете изменить это в начале документа:

```typst
#show math.equation.where(block: true): set align(left)
#show math.equation.where(block: true): pad.with(left: 1.25cm)
```

## Требования ГОСТ 7.32-2017

### Размещение и перенос
<GostQuote page={15} id="6.8.1">
6.8.1 Уравнения и формулы следует выделять из текста в отдельную строку. Выше и ниже каждой 
формулы... должно быть оставлено не менее одной свободной строки. Если уравнение не умещается 
в одну строку, оно должно быть перенесено после знака равенства (=) или после знаков плюс (+), 
минус (–), умножения (х), деления (:)... На новой строке знак повторяется.
</GostQuote>

### Расшифровка символов
<GostQuote page={15} id="6.8.2">
6.8.2 Пояснение значений символов... следует приводить непосредственно под формулой... Значение 
каждого символа... необходимо приводить с новой строки. Первую строку пояснения начинают со слова 
«где» без двоеточия с абзаца.
</GostQuote>

### Порядок нумерации
<GostQuote page={15} id="6.8.3">
6.8.3 Формулы в отчете следует располагать посередине строки и обозначать порядковой нумерацией 
в пределах всего отчета арабскими цифрами в круглых скобках в крайнем правом положении на строке.
</GostQuote>

<GostQuote page={15} id="6.8.5">
6.8.5 Формулы, помещаемые в приложениях, нумеруются арабскими цифрами в пределах каждого 
приложения с добавлением перед каждой цифрой обозначения приложения: (В.1).
</GostQuote>